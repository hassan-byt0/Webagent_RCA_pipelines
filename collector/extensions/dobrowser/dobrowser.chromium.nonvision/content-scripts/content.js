
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="962be804-33af-57e1-bd18-5dc9617e44d1")}catch(e){}}();
var content=function(){"use strict";var V=Object.defineProperty;var B=(u,i,a)=>i in u?V(u,i,{enumerable:!0,configurable:!0,writable:!0,value:a}):u[i]=a;var c=(u,i,a)=>B(u,typeof i!="symbol"?i+"":i,a);var K,M;function u(t){return t}function i(t){return!!t.shadowRoot}function a(t,e=!1){const r=[];if(t.querySelectorAll('iframe[src^="chrome-extension://"], [data-lastpass-root]').forEach(o=>r.push(o)),!e)return r;const s=document.createTreeWalker(t instanceof ShadowRoot?t:t.documentElement,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>i(o)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});let n;for(;n=s.nextNode();){const o=n.shadowRoot;o&&r.push(...a(o,!0))}return r}function T(t=!1){return a(document,t)}function F(t){return t.forEach(e=>e.remove()),t.map(e=>e.getAttribute("src")).filter(Boolean)}function C(t=!1){const e=T(t);return F(e)}let d=null;const x=300;async function b(){return new Promise(t=>{chrome.runtime.sendMessage({type:"getCurrentTabId"},e=>{t(e.tabId)})})}const g={async get(){const t=await b();return(await chrome.storage.session.get([`cursor-position-${t}`]))[`cursor-position-${t}`]},async set(t,e){const r=await b();await chrome.storage.session.set({[`cursor-position-${r}`]:{x:t,y:e}})},async clear(){const t=await b();await chrome.storage.session.remove(`cursor-position-${t}`)}};function w(){if(d)return d;const t=document.createElement("div");t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.pointerEvents="none",t.style.zIndex="10000000",t.style.willChange="transform",t.style.transform="translate(0, 0)",t.style.transition=`transform ${(x/1e3).toFixed(2)}s cubic-bezier(0.25, 0.1, 0.25, 1)`;const e=t.attachShadow({mode:"closed"}),r=document.createElement("style");r.textContent=`
    .cursor {
      width: 10px;
      height: 10px;
      border-radius: 50%;
      background-color: plum;
      border: 2px solid #553355;
      position: relative;
      z-index: 2;
    }
    .name-label {
      position: absolute;
      top: 14px;
      left: 14px;
      white-space: nowrap;
      width: fit-content;
      color: white;
      font-size: 11px;
      font-family: Inter, sans-serif;
      font-weight: bold;
      padding: 2px 6px;
      background: #553355;
      border-radius: 4px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    }
    .ripple {
      position: absolute;
      top: 2px;
      left: 2px;
      width: 10px;
      height: 10px;
      border-radius: 50%;
      background-color: rgba(221, 160, 221, 0.8);
      transform-origin: center;
      z-index: 1;
    }
  `,e.appendChild(r);const s=document.createElement("div");s.classList.add("cursor"),e.appendChild(s);const n=document.createElement("div");n.classList.add("ripple"),e.appendChild(n);const o=document.createElement("div");return o.classList.add("name-label"),o.textContent="Do Browser",e.appendChild(o),document.body.appendChild(t),d={rootElt:t,cursorElt:s,nameLabelElt:o,rippleElt:n},d}let E=null;function _(){E&&clearTimeout(E),E=window.setTimeout(()=>{A()},2e4)}_();async function N(t,e){_();const r=w();return r.rootElt.style.transform=`translate(${t}px, ${e}px)`,g.set(t,e),new Promise(s=>setTimeout(s,x))}async function k(){const t=w(),e=t.cursorElt,r=t.rippleElt;return e&&r&&(r.style.transform="scale(0)",r.style.opacity="1",e.animate([{transform:"scale(1)"},{transform:"scale(0.8)",offset:.3},{transform:"scale(1.1)",offset:.6},{transform:"scale(1)"}],{duration:300,easing:"ease-in-out"}),r.animate([{transform:"scale(0)",opacity:1},{transform:"scale(4)",opacity:0}],{duration:600,easing:"ease-out"}).onfinish=()=>{r.style.transform="scale(0)",r.style.opacity="1"}),new Promise(s=>setTimeout(s,600))}async function L(){const t=await g.get();t&&(await N(t.x,t.y),C())}async function A(){await g.clear(),w().rootElt.remove(),d=null}const R={matches:["<all_urls>"],runAt:"document_end",matchAboutBlank:!0,allFrames:!1,matchOriginAsFallback:!0,main:()=>{setTimeout(function(){getComputedStyle(document.documentElement).getPropertyValue("--arc-palette-background")!==""&&chrome.runtime.sendMessage({type:"browserIsArc"})},1e3),chrome.runtime.onMessage.addListener((e,r,s)=>{if(e.action==="simulateClick"){const{box:n}=e;return n===null?(A(),s({success:!0}),!1):((async()=>{try{let o=n.x+n.width/2,l=n.y+n.height/2;n.width>30&&(o=n.x+30),await N(o,l),await k(),s({success:!0})}catch(o){s({success:!1,error:String(o)})}})(),!0)}if(e.action==="getExtensionIframes"){const n=T(!0);return s({urls:n}),!1}if(e.action==="removeExtensionIframes"){const n=C();return s({foundIframes:n.length>0,urls:n}),!1}return!1}),L();function t(){const e=new DOMParser().parseFromString('<button id="openSidePanel" style="display: none;">Click to open side panel</button>',"text/html").body.firstElementChild;(e==null?void 0:e.tagName)==="BUTTON"&&(e.addEventListener("click",function(){chrome.runtime.sendMessage({type:"open_side_panel"}),e.style.display="none"}),document.body.append(e))}t()}},p=((M=(K=globalThis.browser)==null?void 0:K.runtime)==null?void 0:M.id)==null?globalThis.chrome:globalThis.browser;function f(t,...e){}const $={debug:(...t)=>f(console.debug,...t),log:(...t)=>f(console.log,...t),warn:(...t)=>f(console.warn,...t),error:(...t)=>f(console.error,...t)},y=class y extends Event{constructor(e,r){super(y.EVENT_NAME,{}),this.newUrl=e,this.oldUrl=r}};c(y,"EVENT_NAME",I("wxt:locationchange"));let v=y;function I(t){var e;return`${(e=p==null?void 0:p.runtime)==null?void 0:e.id}:content:${t}`}function O(t){let e,r;return{run(){e==null&&(r=new URL(location.href),e=t.setInterval(()=>{let s=new URL(location.href);s.href!==r.href&&(window.dispatchEvent(new v(s,r)),r=s)},1e3))}}}const m=class m{constructor(e,r){c(this,"isTopFrame",window.self===window.top);c(this,"abortController");c(this,"locationWatcher",O(this));c(this,"receivedMessageIds",new Set);this.contentScriptName=e,this.options=r,this.abortController=new AbortController,this.isTopFrame?(this.listenForNewerScripts({ignoreFirstEvent:!0}),this.stopOldScripts()):this.listenForNewerScripts()}get signal(){return this.abortController.signal}abort(e){return this.abortController.abort(e)}get isInvalid(){return p.runtime.id==null&&this.notifyInvalidated(),this.signal.aborted}get isValid(){return!this.isInvalid}onInvalidated(e){return this.signal.addEventListener("abort",e),()=>this.signal.removeEventListener("abort",e)}block(){return new Promise(()=>{})}setInterval(e,r){const s=setInterval(()=>{this.isValid&&e()},r);return this.onInvalidated(()=>clearInterval(s)),s}setTimeout(e,r){const s=setTimeout(()=>{this.isValid&&e()},r);return this.onInvalidated(()=>clearTimeout(s)),s}requestAnimationFrame(e){const r=requestAnimationFrame((...s)=>{this.isValid&&e(...s)});return this.onInvalidated(()=>cancelAnimationFrame(r)),r}requestIdleCallback(e,r){const s=requestIdleCallback((...n)=>{this.signal.aborted||e(...n)},r);return this.onInvalidated(()=>cancelIdleCallback(s)),s}addEventListener(e,r,s,n){var o;r==="wxt:locationchange"&&this.isValid&&this.locationWatcher.run(),(o=e.addEventListener)==null||o.call(e,r.startsWith("wxt:")?I(r):r,s,{...n,signal:this.signal})}notifyInvalidated(){this.abort("Content script context invalidated"),$.debug(`Content script "${this.contentScriptName}" context invalidated`)}stopOldScripts(){window.postMessage({type:m.SCRIPT_STARTED_MESSAGE_TYPE,contentScriptName:this.contentScriptName,messageId:Math.random().toString(36).slice(2)},"*")}verifyScriptStartedEvent(e){var o,l,P;const r=((o=e.data)==null?void 0:o.type)===m.SCRIPT_STARTED_MESSAGE_TYPE,s=((l=e.data)==null?void 0:l.contentScriptName)===this.contentScriptName,n=!this.receivedMessageIds.has((P=e.data)==null?void 0:P.messageId);return r&&s&&n}listenForNewerScripts(e){let r=!0;const s=n=>{if(this.verifyScriptStartedEvent(n)){this.receivedMessageIds.add(n.data.messageId);const o=r;if(r=!1,o&&(e!=null&&e.ignoreFirstEvent))return;this.notifyInvalidated()}};addEventListener("message",s),this.onInvalidated(()=>removeEventListener("message",s))}};c(m,"SCRIPT_STARTED_MESSAGE_TYPE",I("wxt:content-script-started"));let S=m;const U=Symbol("null");let z=0;class D extends Map{constructor(){super(),this._objectHashes=new WeakMap,this._symbolHashes=new Map,this._publicKeys=new Map;const[e]=arguments;if(e!=null){if(typeof e[Symbol.iterator]!="function")throw new TypeError(typeof e+" is not iterable (cannot read property Symbol(Symbol.iterator))");for(const[r,s]of e)this.set(r,s)}}_getPublicKeys(e,r=!1){if(!Array.isArray(e))throw new TypeError("The keys parameter must be an array");const s=this._getPrivateKey(e,r);let n;return s&&this._publicKeys.has(s)?n=this._publicKeys.get(s):r&&(n=[...e],this._publicKeys.set(s,n)),{privateKey:s,publicKey:n}}_getPrivateKey(e,r=!1){const s=[];for(let n of e){n===null&&(n=U);const o=typeof n=="object"||typeof n=="function"?"_objectHashes":typeof n=="symbol"?"_symbolHashes":!1;if(!o)s.push(n);else if(this[o].has(n))s.push(this[o].get(n));else if(r){const l=`@@mkm-ref-${z++}@@`;this[o].set(n,l),s.push(l)}else return!1}return JSON.stringify(s)}set(e,r){const{publicKey:s}=this._getPublicKeys(e,!0);return super.set(s,r)}get(e){const{publicKey:r}=this._getPublicKeys(e);return super.get(r)}has(e){const{publicKey:r}=this._getPublicKeys(e);return super.has(r)}delete(e){const{publicKey:r,privateKey:s}=this._getPublicKeys(e);return!!(r&&super.delete(r)&&this._publicKeys.delete(s))}clear(){super.clear(),this._symbolHashes.clear(),this._publicKeys.clear()}get[Symbol.toStringTag](){return"ManyKeysMap"}get size(){return super.size}}new D;function H(){}function h(t,...e){}const G={debug:(...t)=>h(console.debug,...t),log:(...t)=>h(console.log,...t),warn:(...t)=>h(console.warn,...t),error:(...t)=>h(console.error,...t)};return(async()=>{try{const{main:t,...e}=R,r=new S("content",e);return await t(r)}catch(t){throw G.error('The content script "content" crashed on startup!',t),t}})()}();
content;
//# sourceMappingURL=content.js.map

//# debugId=962be804-33af-57e1-bd18-5dc9617e44d1
